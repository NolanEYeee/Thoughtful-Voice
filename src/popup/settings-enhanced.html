<!-- 美化版设置模态框 - 复制这段代码替换 popup.html 中的设置部分 -->

<!-- Retro Settings Modal -->
<div id="settings-modal"
    style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 100; overflow-y:auto; backdrop-filter: blur(4px);">
    <div
        style="margin: 20px auto; padding: 0; max-width: 420px; border-radius: 12px; background: linear-gradient(180deg, #2d2d30 0%, #1e1e20 100%); box-shadow: 0 20px 60px rgba(0,0,0,0.9), inset 0 1px 0 rgba(255,255,255,0.1); border: 1px solid #3a3a3d;">

        <!-- Gradient Header -->
        <div
            style="background: linear-gradient(135deg, #ff6b00 0%, #e65100 100%); padding: 20px; border-radius: 12px 12px 0 0; position: relative; overflow: hidden;">
            <div
                style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(circle at top right, rgba(255,255,255,0.2), transparent); pointer-events: none;">
            </div>
            <h2
                style="margin: 0; font-size: 18px; font-weight: bold; text-transform: uppercase; letter-spacing: 3px; color: #fff; text-align: center; position: relative; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">
                SYSTEM CONFIGURATION
            </h2>
            <div
                style="text-align: center; margin-top: 5px; font-size: 10px; color: rgba(255,255,255,0.8); letter-spacing: 1px; position: relative;">
                Advanced Recording Settings
            </div>
        </div>

        <!-- Content -->
        <div style="padding: 25px;">

            <!-- Prompt Section -->
            <div
                style="background: #252528; border-radius: 8px; padding: 15px; margin-bottom: 20px; border: 1px solid #3a3a3d; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                    <div style="width: 4px; height: 16px; background: #ff6b00; margin-right: 10px; border-radius: 2px;">
                    </div>
                    <label
                        style="font-size: 12px; font-weight: bold; color: #ff6b00; text-transform: uppercase; letter-spacing: 1px;">
                        Prompt Template
                    </label>
                </div>
                <textarea id="prompt-text"
                    style="width: 100%; height: 70px; box-sizing: border-box; padding: 12px; font-family: 'Consolas', monospace; font-size: 11px; resize: vertical; border-radius: 6px; background: #1a1a1c; border: 1px solid #444; color: #ddd; transition: all 0.3s;"
                    onfocus="this.style.borderColor='#ff6b00'; this.style.boxShadow='0 0 0 3px rgba(255,107,0,0.1)'"
                    onblur="this.style.borderColor='#444'; this.style.boxShadow='none'"></textarea>
            </div>

            <!-- Video Card -->
            <div
                style="background: #252528; border-radius: 8px; padding: 15px; margin-bottom: 20px; border: 1px solid #3a3a3d; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
                <div style="display: flex; align-items: center; margin-bottom: 15px;">
                    <div style="width: 4px; height: 16px; background: #4a90e2; margin-right: 10px; border-radius: 2px;">
                    </div>
                    <h3
                        style="margin: 0; color: #4a90e2; font-size: 13px; font-weight: bold; text-transform: uppercase; letter-spacing: 1px;">
                        Video Configuration
                    </h3>
                </div>

                <div style="margin-bottom: 15px;">
                    <label
                        style="display: block; font-size: 10px; color: #999; margin-bottom: 6px; text-transform: uppercase;">Codec</label>
                    <select id="video-codec"
                        style="width: 100%; padding: 10px; font-size: 11px; background: #1a1a1c; border: 1px solid #444; color: #ddd; border-radius: 6px;">
                        <option value="vp9">VP9 (Modern, Recommended)</option>
                        <option value="vp8">VP8 (Compatible)</option>
                        <option value="h264">H.264 (Universal)</option>
                    </select>
                </div>

                <div style="margin-bottom: 15px;">
                    <label
                        style="display: block; font-size: 10px; color: #999; margin-bottom: 6px; text-transform: uppercase;">Resolution</label>
                    <select id="video-resolution"
                        style="width: 100%; padding: 10px; font-size: 11px; background: #1a1a1c; border: 1px solid #444; color: #ddd; border-radius: 6px;">
                        <option value="2160p">2160p - 4K Ultra HD</option>
                        <option value="1440p">1440p - 2K Quad HD</option>
                        <option value="1080p" selected>1080p - Full HD (Default)</option>
                        <option value="720p">720p - HD</option>
                        <option value="480p">480p - SD</option>
                    </select>
                </div>

                <div style="margin-bottom: 15px;">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px;">
                        <label style="font-size: 10px; color: #999; text-transform: uppercase;">Bitrate</label>
                        <span id="bitrate-value"
                            style="font-size: 12px; color: #4a90e2; font-weight: bold; font-family: monospace;">4000</span>
                    </div>
                    <input type="range" id="video-bitrate" min="1000" max="20000" step="1000" value="4000"
                        style="width: 100%;"
                        oninput="document.getElementById('bitrate-value').textContent = this.value">
                    <div
                        style="display: flex; justify-content: space-between; font-size: 9px; color: #666; margin-top: 4px;">
                        <span>1 Mbps</span>
                        <span>20 Mbps</span>
                    </div>
                </div>

                <div style="margin-bottom: 15px;">
                    <label
                        style="display: block; font-size: 10px; color: #999; margin-bottom: 6px; text-transform: uppercase;">Frame
                        Rate</label>
                    <select id="video-fps"
                        style="width: 100%; padding: 10px; font-size: 11px; background: #1a1a1c; border: 1px solid #444; color: #ddd; border-radius: 6px;">
                        <option value="24">24 fps (Cinematic)</option>
                        <option value="30">30 fps (Standard)</option>
                        <option value="60" selected>60 fps (Smooth) - Default</option>
                        <option value="120">120 fps (Ultra Smooth)</option>
                    </select>
                </div>

                <div>
                    <label
                        style="display: block; font-size: 10px; color: #999; margin-bottom: 6px; text-transform: uppercase;">Time
                        Slice</label>
                    <select id="video-timeslice"
                        style="width: 100%; padding: 10px; font-size: 11px; background: #1a1a1c; border: 1px solid #444; color: #ddd; border-radius: 6px;">
                        <option value="500">500ms (Low Latency)</option>
                        <option value="1000" selected>1000ms (Balanced)</option>
                        <option value="2000">2000ms (Stable)</option>
                    </select>
                </div>
            </div>

            <!-- Audio Card -->
            <div
                style="background: #252528; border-radius: 8px; padding: 15px; margin-bottom: 20px; border: 1px solid #3a3a3d; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
                <div style="display: flex; align-items: center; margin-bottom: 15px;">
                    <div style="width: 4px; height: 16px; background: #76ff03; margin-right: 10px; border-radius: 2px;">
                    </div>
                    <h3
                        style="margin: 0; color: #76ff03; font-size: 13px; font-weight: bold; text-transform: uppercase; letter-spacing: 1px;">
                        Audio Configuration
                    </h3>
                </div>

                <div style="margin-bottom: 15px;">
                    <label
                        style="display: block; font-size: 10px; color: #999; margin-bottom: 6px; text-transform: uppercase;">Sample
                        Rate</label>
                    <select id="audio-sample-rate"
                        style="width: 100%; padding: 10px; font-size: 11px; background: #1a1a1c; border: 1px solid #444; color: #ddd; border-radius: 6px;">
                        <option value="44100">44.1 kHz (CD Quality)</option>
                        <option value="48000">48 kHz (Studio Quality)</option>
                    </select>
                </div>

                <div>
                    <label
                        style="display: block; font-size: 10px; color: #999; margin-bottom: 6px; text-transform: uppercase;">Buffer
                        Size</label>
                    <select id="audio-buffer-size"
                        style="width: 100%; padding: 10px; font-size: 11px; background: #1a1a1c; border: 1px solid #444; color: #ddd; border-radius: 6px;">
                        <option value="2048">2048 (Low Latency)</option>
                        <option value="4096" selected>4096 (Balanced)</option>
                        <option value="8192">8192 (High Quality)</option>
                    </select>
                </div>
            </div>

            <!-- Buttons -->
            <div style="display: flex; gap: 10px; justify-content: space-between; margin-top: 25px;">
                <button id="reset-settings" class="retro-btn delete"
                    style="padding: 12px 20px; font-size: 10px; border-radius: 6px;">RESET</button>
                <div style="display: flex; gap: 10px;">
                    <button id="cancel-settings" class="retro-btn"
                        style="padding: 12px 24px; border-radius: 6px;">CANCEL</button>
                    <button id="save-settings" class="retro-btn primary"
                        style="padding: 12px 28px; border-radius: 6px;">SAVE</button>
                </div>
            </div>
        </div>
    </div>
</div>